<!-- This should be used in a JavaScript variable
It will return "true" if the window is not framed -->

<script>
    (function () {
        return window == window.top;
    })();
</script>

<!-- This script should trigger on the page "hosting" the frame -->
<script>
    window.addEventListener("message", receiveMessage, false);
    function receiveMessage(e) {
        var d = e.data;
        console.log(e);
        if (d.messageType == 'frameTracking') {
            dataLayer.push({
                'event': 'frame.' + d.eventName,
                'frame': d.properties
            });
        }
    }
</script>


<!-- This script should go on the frame itself -->

<script>
window.dataLayer.push({
    'event': 'analytics.frame.formdata',
    'analytics': {
        // using mapped formdata, see form data collector script   
        'formdata': {{ Analytics - DL - frame.formdata}}
    }
});
</script>